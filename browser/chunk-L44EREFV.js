import{g as o,j as s}from"./chunk-PINZBQ37.js";import{B as a,V as r,_ as c}from"./chunk-KOTV4B7C.js";var m=(()=>{class n{router;measurementId="G-XXXXXXXXXX";constructor(e){this.router=e,this.setupPageViewTracking()}initialize(e){this.measurementId=e,this.loadGoogleAnalytics()}loadGoogleAnalytics(){if(typeof gtag<"u")return;let e=document.createElement("script");e.async=!0,e.src=`https://www.googletagmanager.com/gtag/js?id=${this.measurementId}`,document.head.appendChild(e);let t=document.createElement("script");t.innerHTML=`
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', '${this.measurementId}', {
        page_path: window.location.pathname
      });
    `,document.head.appendChild(t)}setupPageViewTracking(){this.router.events.pipe(a(e=>e instanceof o)).subscribe(e=>{this.trackPageView(e.urlAfterRedirects)})}trackPageView(e){if(typeof gtag>"u"){console.warn("Google Analytics not initialized");return}gtag("config",this.measurementId,{page_path:e,page_title:document.title}),console.log("Page view tracked:",e)}trackEvent(e,t,i,d){if(typeof gtag>"u"){console.warn("Google Analytics not initialized");return}gtag("event",e,{event_category:t,event_label:i,value:d}),console.log("Event tracked:",e,t,i)}trackButtonClick(e,t){this.trackEvent("button_click","engagement",e,void 0),t&&this.trackEvent("button_click_location","engagement",t,void 0)}trackFormSubmission(e,t="success"){this.trackEvent("form_submit","form",e,void 0),this.trackEvent(`form_submit_${t}`,"form",e,void 0)}trackDownload(e,t){this.trackEvent("file_download","download",e,void 0),this.trackEvent("file_download_type","download",t,void 0)}trackExternalLink(e,t){this.trackEvent("external_link_click","outbound",e,void 0),t&&this.trackEvent("external_link_text","outbound",t,void 0)}trackSocialClick(e,t="click"){this.trackEvent("social_click","social",e,void 0),this.trackEvent(`social_${t}`,"social",e,void 0)}trackThemeToggle(e){this.trackEvent("theme_toggle","preference",e,void 0)}trackLanguageChange(e){this.trackEvent("language_change","preference",e,void 0)}trackVoiceCommand(e,t){this.trackEvent("voice_command","voice",e,t?1:0)}trackScrollDepth(e){this.trackEvent("scroll_depth","engagement",`${e}%`,e)}trackTimeOnPage(e){this.trackEvent("time_on_page","engagement","seconds",e)}trackSearch(e,t){this.trackEvent("search","search",e,t)}setUserProperty(e,t){typeof gtag>"u"||gtag("set","user_properties",{[e]:t})}setUserId(e){typeof gtag>"u"||gtag("config",this.measurementId,{user_id:e})}static \u0275fac=function(t){return new(t||n)(c(s))};static \u0275prov=r({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();export{m as a};
